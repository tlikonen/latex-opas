% Tekijä:   Teemu Likonen <tlikonen@iki.fi>
% Lisenssi: Creative Commons Nimeä-JaaSamoin 4.0 Kansainvälinen (CC BY-SA 4.0)
%           https://creativecommons.org/licenses/by-sa/4.0/legalcode.fi

\documentclass{book}
\usepackage{geometry}
\usepackage[quiet]{fontspec}
% \usepackage[mode=text, input-decimal-markers={,}, output-decimal-marker={,},
% per-mode=symbol]{siunitx}
\usepackage{polyglossia}
\usepackage[finnish,showseconds=false]{datetime2}
\usepackage{ragged2e}
\usepackage[hang,bottom,norule]{footmisc}
\usepackage[clearempty]{titlesec}
\usepackage{titletoc}
%\usepackage{graphicx}
\usepackage{color}
\usepackage{floatrow}
\usepackage{caption}
\usepackage{newfloat}
\usepackage{fancyvrb}
\usepackage{booktabs}
\usepackage{noindentafter}
\usepackage[normalem]{ulem}
 \usepackage{imakeidx}
% \usepackage{ifthen}
\usepackage{chngcntr}
\usepackage{realscripts}
\usepackage{csquotes}
\usepackage[style=authoryear, dashed=false, maxbibnames=99]{biblatex}
\usepackage{tikz}
\usepackage{totcount}
\usepackage{nowidow} \setnowidow
%\usepackage{showhyphens}
\usepackage{hanging}
\usepackage{lettrine}
\usepackage[unicode,hyperfootnotes=false]{hyperref}
\usepackage[shortcuts]{extdash}

\geometry{ a5paper, twoside, hscale=.72, vscale=.77, hmarginratio=17:28,
  vmarginratio=20:32, footskip=12mm, footnotesep=13bp,
  marginparwidth=50bp, marginparsep=10bp }

% \geometry{ papersize={158mm, 220mm}, layout=a5paper, layoutoffset={5mm,
%     5mm}, showcrop }

\hypersetup{ hidelinks, bookmarksopen, bookmarksnumbered,
  pdfauthor={Teemu Likonen}, pdftitle={Käytännöllistä Latexia} }

\setdefaultlanguage{finnish}
\setotherlanguage{english}
\newcommand{\englishfont}{}
\newcommand{\englanti}[1]{\textenglish{#1}}

\defaultfontfeatures{Ligatures={TeX, Required, Common}, Numbers=Lowercase}

% Perusfontin on oltava antiikva, ja tekstissä siitä käytetään seuraavia
% asetuksia: Numbers={Lowercase}, Numbers={Uppercase, SlashedZero},
% Fractions, pienversaalit, aitoja ylä- ja alaindeksejä.
\setmainfont {libertinusserif}
[UprightFont=*-regular,
ItalicFont=*-italic,
SlantedFont=*-regular, SlantedFeatures={FakeSlant=.2},
BoldFont=*-semibold,
BoldItalicFont=*-semibolditalic,
BoldSlantedFont=*-semibold, BoldSlantedFeatures={FakeSlant=.2},
Extension=.otf]

% Fonttiluvussa viitataan tähän perheeseen siten, että se on antiikvan
% ja groteskin välimuoto (päätteetön kaksivahva).
\setsansfont {libertinussans}
[Scale=MatchLowercase,
UprightFont=*-regular,
ItalicFont=*-italic,
SlantedFont=*-regular, SlantedFeatures={FakeSlant=.2},
BoldFont=*-bold,
BoldItalicFont=*-bolditalic,
Extension=.otf]

% Fonttien asetuksia käsittelevässä luvussa viitataan tähän fonttiin ja
% välistyksen tiivistämiseen (FakeStretch).
\setmonofont {libertinusmono}
[Scale=MatchLowercase, Ligatures={TeXReset, NoCommon}, FakeStretch=.8,
Numbers={Uppercase, SlashedZero}, HyphenChar=-,
UprightFont=*-regular,
ItalicFont=*-italic,
BoldFont=*-bold,
BoldItalicFont=*-bolditalic,
Extension=.otf]

% Esimerkkien tulosteet tällä fontilla:
\newcommand{\erikoisfontti}{\rmfamily}

\newfontface{\viivastofontti}{libertinusserif-regular.otf}

\renewcommand{\scriptsize}{\fontsize{7bp}{7bp}\selectfont}
\renewcommand{\footnotesize}{\fontsize{8bp}{9bp}\selectfont}
\renewcommand{\small}{\fontsize{9bp}{10bp}\selectfont}
\renewcommand{\normalsize}{\fontsize{10.5bp}{13bp}\selectfont}
\renewcommand{\large}{\fontsize{13bp}{15bp}\selectfont}
\renewcommand{\Large}{\fontsize{16bp}{18bp}\selectfont}
\renewcommand{\LARGE}{\fontsize{20bp}{22bp}\selectfont}
\renewcommand{\huge}{\fontsize{24bp}{26bp}\selectfont}
\linespread{1}
\normalsize

\newcommand{\gemenanum}{\addfontfeatures{Numbers=Lowercase}}
\newcommand{\versaalinum}{\addfontfeatures{Numbers=Uppercase}}
\newcommand{\murtoluku}[2]{{\addfontfeatures{Fractions=On}#1/#2}}

\urlstyle{sf}
\newcommand{\kulmaurl}[1]
{\href{#1}{\guilsinglleft\nolinkurl{#1}\guilsinglright}}
\newcommand{\kulmasp}[1]
{\href{mailto:#1}{\guilsinglleft\nolinkurl{#1}\guilsinglright}}

\setlength{\emergencystretch}{1em}

\setlength{\parindent}{1em}
\setlength{\bibhang}{\parindent}
\setlength{\bibitemsep}{.5ex plus .1ex minus .1ex}
\newlength{\sisennys}\setlength{\sisennys}{1.8em}
\setlength{\parskip}{0em}
\setlength{\footnotemargin}{.8em}
\setlength{\floatsep}{.8em plus .3em minus .1em}
\setlength{\textfloatsep}{1.3em plus .3em minus .1em}

\addbibresource{kirjallisuutta.bib}
\nocite{*}
\renewcommand{\bibfont}{\RaggedRight}

\DeclareDelimFormat[bib]{nametitledelim}{\addcolon\space}
\DeclareDelimFormat[bib]{multinamedelim}{\space--\space}
\DeclareDelimFormat[bib]{finalnamedelim}{\space--\space}
\DeclareFieldFormat{url}{Saatavissa: \kulmaurl{#1}}
\DeclareNameAlias{sortname}{family-given}
\DeclareNameAlias{default}{family-given}
\DefineBibliographyStrings{finnish}{andothers = {ym.}}

\DeclareFloatingEnvironment[ name={Esimerkki} ]{esimerkki}

\indexsetup{level=\section*, toclevel=section, noclearpage}

\makeindex[name=paketit, title={Paketit}, columns=2, columnsep=1em]
\makeindex[name=komennot, title={Komennot}, columns=2, columnsep=1em]
\makeindex[name=ymparistot, title={Ympäristöt}, columns=2, columnsep=1em]
\makeindex[name=mitat, title={Mitat}, columns=2, columnsep=1em]

\renewcommand{\theFancyVerbLine}
{\sffamily\versaalinum\fontsize{6bp}{7bp}\selectfont\arabic{FancyVerbLine}}

\DefineVerbatimEnvironment{koodilohko}{Verbatim}{ fontsize=\small,
  gobble=2, frame=single, framesep=.4em, numbers=left, numbersep=.3em,
  xleftmargin=0em, xrightmargin=0mm, baselinestretch=1 }

\DefineVerbatimEnvironment{koodilohkosis}{Verbatim}{
  fontsize=\small, gobble=2, frame=none, numbers=none,
  numbersep=0em, xleftmargin=\sisennys, xrightmargin=0mm,
  baselinestretch=1, samepage=true }

\newenvironment{tulos}{%
  \begin{minipage}{\linewidth}
    \linespread{1}\erikoisfontti\small
  }{%
  \end{minipage}
  \par\vspace{1ex}
  \hrulefill
  \par\vspace{2ex}
}

\newenvironment{tulossis}{%
  \begin{list}{}{
      \setlength{\leftmargin}{\sisennys}
      \erikoisfontti\small
    }\item[⇒]}{%
  \end{list}}

\floatsetup{ font={small}, justification=raggedright,
  margins=raggedright, captionskip=2ex, capposition=bottom }

\captionsetup{ font={small, sf}, labelfont={bf}, textfont={},
  textformat=period, margin=.5em, justification=RaggedRight,
  singlelinecheck=off }

\captionsetup[esimerkki]{ skip=-0.5ex, margin=.5em }

\newcommand{\leijutlk}[2]{%
  \begin{table*}
    \floatbox{table}{\versaalinum #1}{#2}
  \end{table*}}

\newcommand{\leijukuva}[2]{%
  \begin{figure*}
    \floatbox{figure}{#1}{#2}
  \end{figure*}}

\newenvironment{nluetelma}{%
  \begin{list}{\theenumi.}{
      \usecounter{enumi}
      \setlength{\leftmargin}{1.3em}
      \setlength{\labelsep}{.3em}
      \setlength{\itemsep}{.2ex plus .2ex}
      \setlength{\parsep}{0em}
      \setlength{\topsep}{.2ex plus .2ex}
      \RaggedRight
    }}{%
  \end{list}}

\definecolor{tavu}{rgb}{1,0,0}

\newcommand{\keno}{\textbackslash}
\newcommand{\marginaali}[1]{\marginpar{\RaggedRight\footnotesize #1}}

\newcommand{\koodi}[1]{\texttt{#1}}
\newcommand{\koodimargin}[1]{\marginaali{\koodi{#1}}}
\newcommand{\koodim}[1]{\koodi{#1}\koodimargin{#1}}

\newcommand{\luokka}[1]{\koodi{#1}}
\newcommand{\luokkamargin}[1]{\koodimargin{#1}}
\newcommand{\luokkam}[1]{\luokka{#1}\luokkamargin{#1}}

\newcommand{\komentox}[1]{\koodi{\keno #1}}
\newcommand{\komentoi}[1]{\index[komennot]{\komentox{#1}}}
\newcommand{\komento}[1]{\komentox{#1}\komentoi{#1}}
\newcommand{\komentomargin}[1]{\koodimargin{\keno #1}}
\newcommand{\komentom}[1]{\komento{#1}\komentomargin{#1}}

\newcommand{\ymparistox}[1]{\koodi{#1}}
\newcommand{\ymparistoi}[1]{\index[ymparistot]{\ymparistox{#1}}}
\newcommand{\ymparisto}[1]{\ymparistox{#1}\ymparistoi{#1}}
\newcommand{\ymparistomargin}[1]{\koodimargin{#1}}
\newcommand{\ymparistom}[1]{\ymparisto{#1}\ymparistomargin{#1}}

\newcommand{\mittax}[1]{\koodi{\keno #1}}
\newcommand{\mittai}[1]{\index[mitat]{\mittax{#1}}}
\newcommand{\mitta}[1]{\mittax{#1}\mittai{#1}}
\newcommand{\mittamargin}[1]{\koodimargin{\keno #1}}
\newcommand{\mittam}[1]{\mitta{#1}\mittamargin{#1}}

\newcommand{\laskuri}[1]{\koodi{#1}}
\newcommand{\laskurimargin}[1]{\koodimargin{#1}}
\newcommand{\laskurim}[1]{\laskuri{#1}\laskurimargin{#1}}

\newcommand{\pakettix}[1]{\textsf{#1}}
\newcommand{\pakettii}[1]{\index[paketit]{\pakettix{#1}}}
\newcommand{\paketti}[1]{\pakettix{#1}\pakettii{#1}}
\newcommand{\pakettimargin}[1]{\marginaali{\pakettix{#1}}}
\newcommand{\pakettim}[1]{\paketti{#1}\pakettimargin{#1}}

\newcommand{\tavukohta}{\textcolor{tavu}{\raisebox{-.2ex}{\rule{.6bp}{2ex}}}}
\newcommand{\uctunnus}[1]{\textsc{\englanti{#1}}}
\newcommand{\avctan}[1]{\footnote{\url{https://www.ctan.org/pkg/#1}}}

\newcommand{\ots}[1]{{\sffamily\bfseries #1}}
\newcommand{\otsrivi}[1]{{\sffamily #1}}
\newcommand{\katk}{\discretionary{}{}{}}

% Oppaan tekstissä mainitaan typografinen käytäntö, että
% koodiesimerkkien jälkeen ei sisennetä.
\NoIndentAfterEnv{koodilohkosis}
\NoIndentAfterEnv{tulossis}
\NoIndentAfterEnv{nluetelma}

\addto{\captionsfinnish}{
  \renewcommand{\contentsname}{Sisällys}
}

\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{2}

\counterwithout{footnote}{chapter}

\newcommand{\otsikkotyyli}{ \raggedright \sffamily \bfseries }

\titleformat{\chapter}[display]{\Large\bfseries}
{\chaptertitlename\hspace{.3em}\thechapter}{1.5ex}{\otsikkotyyli\huge}[]
\titlespacing*{\chapter}{0em}{*13}{*8}

\titleformat{\section}{\otsikkotyyli\large}
{\thesection}{.8em}{}[]
\titlespacing*{\section}{0pt}{*4}{*2}

\titleformat{\subsection}{\otsikkotyyli\normalsize}
{\thesubsection}{.8em}{}[]
\titlespacing*{\subsection}{0bp}{*2}{*1}

\titleformat{\subsubsection}{\normalsize\bfseries\itshape}
{\thesubsubsection}{.8em}{}[]
\titlespacing*{\subsubsection}{\parindent}{*2}{*1}

\titlecontents{chapter}[0em]
{\addvspace{1.5ex}\rmfamily\bfseries\large}
{\makebox[8mm][l]{\thecontentslabel}}
{}
{\titlerule[0bp]\contentspage}
[\addvspace{.5ex}]

\titlecontents{section}[0em]
{\addvspace{.5ex}\rmfamily\normalsize}
{\makebox[8mm][l]{\thecontentslabel}}
{}
{~\titlerule*[3mm]{.}\contentspage}
[\addvspace{.2ex}]

\titlecontents{subsection}[8mm]
{\rmfamily\small}
{\makebox[10mm][l]{\thecontentslabel}}
{}
{~\titlerule*[3mm]{.}\contentspage}
[]

\regtotcounter{chapter}

\begin{document}

\hyphenation{
  ab-stract
  abst-ra-hoin-ti
  abst-rak-te-ja
  abst-rak-tio-ta-soil-la
  abst-rak-tio-ta-sol-la
  abst-rak-tio-ta-sol-taan
  abst-rak-tio-ta-son
  add-font-fea-tures
  add-to
  add-vspace
  ala-in-dek-se-jä
  ala-in-dek-seil-le
  ala-in-dek-si-ko-men-not
  ala-in-dek-sien
  ala-in-dek-sin
  ala-in-dek-sit
  ala-in-dek-siä
  alku-osaa
  an-tiik-va
  an-tiik-vaa
  an-tiik-vaan
  an-tiik-van
  an-tiik-vas-sa
  an-tiik-vat
  an-tiik-vo-jen
  ar-ti-cle
  au-thor
  ba-bel
  babel-font
  babel-tags
  base-line-skip
  beam-er
  bf-se-ries
  bib-latex
  big-break
  big-skip
  cap-tions-finnish
  chapter-mark
  column-sep
  cs-quotes
  default-font-fea-tures
  dis-able-hy-phen-ation
  dis-cre-tionary
  doc-u-ment
  doc-u-ment-class
  ed-i-tor
  emer-gen-cy-stretch
  en-able-hy-phen-ation
  Endash
  english-font
  equa-tion
  esit-te-ly-osaan
  esit-te-ly-osak-si
  esit-te-ly-osas-sa
  ext-dash
  fancy-hdr
  fancy-page-style
  fancyhf
  font-size
  font-spec
  font-ti-ase-tuk-sia
  font-ti-ase-tuk-siin
  font-ti-ase-tuk-sil-la
  font-ti-ase-tuk-sil-le
  font-ti-ase-tus
  font-ti-ase-tus-ta
  font-ti-ase-tus-ten
  foot-rule-width
  foot-skip
  for-eign-lan-guage
  ge-om-e-try
  graph-icx
  greek-font
  gro-tes-ki
  gro-tes-kia
  gro-tes-kiin
  gro-tes-kin
  hai-tal-li-suus-ar-voik-si
  hai-tal-li-suus-arvo
  hai-tal-li-suus-arvoa
  hang-ing
  head-ings
  head-rule-width
  head-sep
  hspace
  hy-phen-ation
  hyper-ref
  Hyph-dash
  it-shape
  jul-kai-su-oh-jel-miin
  jul-kai-su-oh-jel-mis-sa
  kie-li-ai-nek-seen
  kie-li-ase-tuk-set
  kie-li-ase-tuk-sia
  kie-li-ase-tuk-sis-ta
  kie-li-ase-tus-ten
  kir-joi-tus-asu-ja
  kir-joi-tus-asu-jen
  kir-joi-tus-asus-sa
  konk-reet-ti-ses-ti
  konk-reet-ti-sia
  käyt-töön-ot-toon
  käyt-töön-oton
  käyt-töön-otos-sa
  käyt-töön-otto
  käyt-töön-ottoa
  la-don-ta-oh-jei-ta
  la-don-ta-oh-jel-man
  La-tex-mk
  La-tex-mk-rc
  large
  left-mark
  line-spread
  Lua-latex
  mark-both
  mark-right
  Match-Low-er-case
  md-se-ries
  med-break
  med-skip
  mem-oir
  mit-ta-yk-si-köi-den
  mit-ta-yk-si-köi-tä
  mit-ta-yk-si-köl-le
  mit-ta-yk-si-kön
  mit-ta-yk-sik-kö
  my-head-ings
  new-com-mand
  new-en-vi-ron-ment
  new-font-face
  new-font-fam-i-ly
  new-ge-om-e-try
  ni-men-omaan
  normal-size
  note
  obey-cr
  ole-tus-ar-vo
  ole-tus-ar-voa
  ole-tus-ar-voi-hin
  ole-tus-ar-vot
  ole-tus-ase-tuk-set
  ole-tus-ase-tuk-sia
  ole-tus-ase-tuk-sil-la
  one-column
  one-side
  other-lan-guage
  page
  page-number-ing
  page-style
  pages
  par-in-dent
  para-graph
  pdf-lscape
  pe-rus-osas-ta
  pe-rus-osat
  pe-rus-osien
  pe-rus-osiin
  pien-aak-ko-set
  pien-aak-kos-ten
  poly-glos-sia
  pub-lish-er
  pys-ty-asen-toi-sel-la
  pys-ty-asen-toi-sen
  pää-asial-li-nen
  pää-asial-li-sek-si
  pää-asial-li-sen
  pää-asias-sa
  quo-ta-tion
  quote
  ragged-left
  ragged-right
  re-new-com-mand
  re-new-en-vi-ron-ment
  re-store-cr
  re-store-ge-om-e-try
  right-mark
  rm-fam-i-ly
  sa-man-ai-kai-ses-ti
  sc-shape
  Scale
  sec-tion
  section-mark
  select-font
  select-lan-guage
  set-default-lan-guage
  set-length
  set-main-font
  set-mono-font
  set-sans-font
  sf-fam-i-ly
  show-hy-phens
  sl-shape
  slides
  small
  small-break
  small-skip
  space-skip
  style
  sub-sec-tion
  sub-section-mark
  suur-aak-kos-ten
  säh-kö-pos-ti-osoi-te
  säh-kö-pos-ti-osoit-tei-den
  säh-kö-pos-ti-osoit-tei-ta
  tab-u-lar
  table
  teks-ti-alue
  teks-ti-alueen
  teks-ti-aluees-ta
  teks-ti-edi-to-ria
  teks-ti-edi-to-rien
  teks-ti-edi-to-ril-la
  teks-ti-edi-to-rin
  teks-ti-edi-to-ris-sa
  teks-ti-edi-to-ris-sa-kin
  teks-ti-edi-to-ris-ta
  teks-ti-osa
  teks-ti-osaan
  teks-ti-osan
  teks-ti-osas-sa
  text-comp-word-mark
  text-english
  text-greek
  text-quote-dbl
  text-quote-single
  the-bib-li-og-ra-phy
  the-chapter
  the-page
  the-section
  this-page-style
  tie-to-kone-oh-jel-ma
  tie-to-kone-oh-jel-mal-le
  tie-to-kone-oh-jel-mat
  tie-to-kone-oh-jel-mia
  title
  tt-fam-i-ly
  two-column
  two-side
  ty-po-gra-fi-sen
  ty-po-gra-fi-ses-ta
  ty-po-gra-fi-ses-ti
  ty-po-gra-fi-set
  ty-po-gra-fi-sia
  ty-po-gra-fi-sin
  ty-po-gra-fi-sis-ta
  ty-po-gra-fia
  ty-po-gra-fiaan
  ty-po-gra-fian
  ty-po-gra-fias-sa
  ty-po-gra-fis-ten
  ulko-asu
  ulko-asua
  ulko-asun
  ulko-asus-ta
  ulko-asuun
  Uni-code
  Uni-coden
  use-pack-age
  va-paa-eh-toi-sia
  vaih-to-eh-don
  vaih-to-eh-dot
  vaih-to-eh-to
  vaih-to-eh-to-ja
  vaih-to-eh-to-na
  vaih-to-eh-toi-ses-ti
  vir-he-il-moi-tuk-sen
  vir-he-il-moi-tus
  vir-he-il-moi-tus-ta
  vol-ume
  vspace
  väli-ai-kai-ses-ti
  väli-ai-kais-tie-dos-to-jen
  väli-ai-kais-tie-dos-toa
  väli-ai-kais-tie-dos-toon
  väli-ai-kais-tie-dos-tot
  väli-ot-si-kois-sa
  väli-ot-si-kon
  väli-ot-si-kot
  Xe-latex
  ylä-in-dek-si
  ylä-in-dek-sit
}

\pagestyle{empty}

\newgeometry{top=1cm, bottom=1.8cm, hmargin=1.3cm}

% \newgeometry{ top=1cm, bottom=1.8cm, hmargin=1.3cm, papersize={158mm,
%     220mm}, layout=a5paper, layoutoffset={5mm, 5mm}, showcrop }

\pdfbookmark[0]{Kansi}{luku:kansi}
\DTMsetstyle{finnish}

\vspace*{.2\textheight}

{

  \setlength{\parindent}{0pt}

  \fontsize{14bp}{14bp}\rmfamily Teemu Likonen

  \fontsize{48bp}{48bp}\sffamily\bfseries%
  \hspace{-3bp}%
  Käytännöllistä

  \fontsize{60bp}{60bp}\selectfont%
  \hspace{-5bp}%
  \LaTeX{}ia

}

\vfill

{

  \raggedleft
  Latex-ladontajärjestelmän opas \\
  \DTMtoday

}

\clearpage
\restoregeometry
\pdfbookmark[0]{Tekijänoikeus}{luku:tekijänoikeus}
\DTMsetstyle{finnish-numeric}

\null\vfill

{
  \setlength{\parindent}{0em}
  \setlength{\parskip}{1.2ex plus .1ex}

  \section*{Käytännöllistä Latexia}

  Tekijä: Teemu Likonen \kulmasp{tlikonen@iki.fi}

  Päiväys: \DTMtoday{} kello \DTMcurrenttime{} (Ensijulkaisu: ei ole
  julkaistu vielä)

  Lisenssi: \emph{Creative Commons Nimeä-Jaa\-Samoin 4.0 Kansainvälinen}
  (\textsc{cc by-sa} 4.0). Lisenssi antaa sinulle luvan kopioida ja
  levittää tätä teosta tai sen osia missä tahansa välineessä ja
  muodossa. Sisältöä saa muokata, ja sen pohjalta saa luoda uusia
  teoksia mihin tahansa tarkoitukseen, myös kaupallisesti. Ehdot ovat
  seuraavat:

  \begin{list}{\textbullet}{
      \setlength{\leftmargin}{1em}
      \setlength{\topsep}{0ex}
      \setlength{\partopsep}{0ex}
      \setlength{\itemsep}{0ex}
    }
  \item Sinun on mainittava tekijä(t) asianmukaisesti, tarjottava linkki
    lisenssin koko tekstiin (ks. alla) sekä mainittava, mikäli olet
    tehnyt muutoksia.
  \item Jos muokkaat teosta tai luot sen pohjalta uuden teoksen, sinun on
    jaettava muutoksiasi samalla lisenssillä kuin alkuperäistä teosta.
  \item Et saa asettaa sellaisia oikeudellisia ehtoja tai teknisiä
    estoja, jotka estävät muita tekemästä asioita, jotka tämä lisenssi
    sallii.
  \end{list}

  Lisenssin koko teksti: \\
  \url{https://creativecommons.org/licenses/by-sa/4.0/legalcode.fi}

  Poikkeus lisenssiin: Jos teet tästä teoksesta oman sähköisen
  dokumentin (esim. \textsc{pdf}), dokumenttiin mahdollisesti
  upotettavat fontit eivät kuulu tämän lisenssin piiriin, eli niillä saa
  olla jokin toinen lisenssi. Ilmaise sähköisen dokumentin käyttäjille
  selvästi, jos upotettujen fonttien lisenssi rajoittaa käyttöä eri
  tavalla kuin tämä lisenssi ja että tämä lisenssi on silti voimassa
  teoksen muun sisällön osalta. (Jos haluat, voit poistaa tämän
  poikkeuksen, jolloin myös fonttien lisenssin on oltava yhteensopiva
  tämän lisenssin kanssa.)

}

\cleardoublepage
\pagestyle{plain}
\pdfbookmark[0]{Sisällys}{luku:sisallys}

\tableofcontents

\cleardoublepage

\input{esipuhe}
\input{valmistautuminen}
\input{merkintakieli}
\input{asetukset}
\input{kirjoittaminen}

\chapter{Matematiikka}
\label{luku:matematiikka}

% \section{Käyttöönotto}
% \subsection{Unicode-math}
% \subsection{Mathspec}
% \subsection{Vanha tapa}
% \section{Jotain sisältöäkin tarvitaan}
% \section{Ympäristöjä}
% align... (amsmath)

...

\chapter{Muuta tekniikkaa}

...

\section{Laatikot}
\label{luku:laatikot}

...

\section{Päällekkäinen teksti}

% textpos-paketti

...

\section{Päiväykset ja kellonajat}
% \day\month\year
% Em. laskureissa on kenoviiva
% datetime2-paketti

...

\section{Omat paketit}

...

\section{Omat dokumenttiluokat}
\label{luku:omat_dokumenttiluokat}

Oman dokumenttiluokan tekeminen voi olla hyödyllistä silloin, kun täytyy
tuottaa paljon samantyylisiä dokumentteja ja haluaa määrittää monet
asetukset valmiiksi. Jotkin oppilaitokset ovat tehneet oman
dokumenttiluokan, koska opinnäytetöille ja muille julkaisuille halutaan
yhtenäinen ulkoasu ja typografia.

\backmatter

\chapter{Kirjallisuutta}
\label{luku:kirjallisuutta}

\printbibliography[heading=none]

\chapter{Asiahakemisto}

\printindex[paketit]\pagebreak
\printindex[komennot]
\printindex[ymparistot]
\printindex[mitat]

\end{document}
